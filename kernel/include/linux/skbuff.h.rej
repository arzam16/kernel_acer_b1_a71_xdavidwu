--- include/linux/skbuff.h
+++ include/linux/skbuff.h
@@ -640,21 +640,11 @@ static inline unsigned char *skb_end_pointer(const struct sk_buff *skb)
 {
 	return skb->head + skb->end;
 }
-
-static inline unsigned int skb_end_offset(const struct sk_buff *skb)
-{
-	return skb->end;
-}
 #else
 static inline unsigned char *skb_end_pointer(const struct sk_buff *skb)
 {
 	return skb->end;
 }
-
-static inline unsigned int skb_end_offset(const struct sk_buff *skb)
-{
-	return skb->end - skb->head;
-}
 #endif
 
 /* Internal */
@@ -2584,7 +2574,7 @@ static inline bool skb_is_recycleable(const struct sk_buff *skb, int skb_size)
 		return false;
 
 	skb_size = SKB_DATA_ALIGN(skb_size + NET_SKB_PAD);
-	if (skb_end_offset(skb) < skb_size)
+	if (skb_end_pointer(skb) - skb->head < skb_size)
 		return false;
 
 	if (skb_shared(skb) || skb_cloned(skb))
